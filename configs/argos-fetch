#!/bin/bash

# Script √©pico minimalista: Imagen del lobo + ARGOS ASCII
# Dise√±o limpio y elegante con mejor alineaci√≥n

# Limpiar pantalla completamente
clear
sleep 0.1
clear

# Crear arrays para la imagen y el texto ASCII
declare -a wolf_lines
declare -a argos_lines

# Detectar el directorio del script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Determinar la imagen a usar seg√∫n el sistema operativo
if [[ "$OSTYPE" == "darwin"* ]]; then
    # macOS
    IMAGE_PATH="$SCRIPT_DIR/loboMacOS.png"
else
    # WSL/Linux
    IMAGE_PATH="$SCRIPT_DIR/Argos-FetchWU.png"
fi

# Capturar la imagen del lobo (tama√±o optimizado para mejor alineaci√≥n)
mapfile -t wolf_lines < <(chafa --symbols=block --size=28x16 "$IMAGE_PATH")

# ASCII art de ARGOS (m√°s compacto y centrado)
argos_lines=(
"  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó"
" ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù"
" ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó"
" ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë"
" ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë"
" ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
"                                            "
"       üê∫ W O L F   S Y S T E M üê∫       "
)

# Mostrar la imagen del lobo al lado del texto ARGOS (centrado verticalmente)
echo ""

# Calcular l√≠neas para centrar el texto
wolf_lines_count=${#wolf_lines[@]}
argos_lines_count=${#argos_lines[@]}

# Calcular el offset para centrar ARGOS verticalmente
offset=$(( (wolf_lines_count - argos_lines_count) / 2 ))

# Mostrar las l√≠neas combinadas con mejor espaciado
for ((i=0; i<wolf_lines_count; i++)); do
    wolf_line="${wolf_lines[$i]:-}"

    # Calcular el √≠ndice del texto ARGOS considerando el offset
    argos_index=$(( i - offset ))

    if [ $argos_index -ge 0 ] && [ $argos_index -lt $argos_lines_count ]; then
        argos_line="${argos_lines[$argos_index]}"
    else
        argos_line=""
    fi

    # Mostrar l√≠nea combinada con mejor espaciado horizontal
    printf "%-32s   %s\n" "$wolf_line" "$argos_line"
done

echo ""
